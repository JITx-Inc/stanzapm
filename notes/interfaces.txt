The VirtualMachine interface:

  Create a virtual machine:
    vm = VirtualMachine()  

  Load definitions into virtual machine:
    load(VirtualMachine, VMProg)

  Run a function in the virtual machine:
    run(VirtualMachine, Int)

The LoadedIds interface:

  Create a VM ID for a given record. If an id is already used, then
  give it the previous id.

    id = make-id(LoadedIds, Rec)

  Retrieve the ID for a given record id.

    id = LoadedIds[RecId]

  Retrieve the ID for the initializer of a package

    id = init(LoadedIds, package-name)

  Retrieve all record dependencies given a VM ID.

    Records = dependencies(LoadedIds, Int)

The LoadedIds interface for the compiler:

  Retrieve the package ids for a given package:

    PackageIds = package-ids(LoadedIds, PackageIO, EPackage)

  Retrieve the initializer ID:

    vmid = init(PackageIds)

  Retrieve the VM Id for a given package id:

    vmid = PackageIds[id]

  Declare the dependencies of a given package id:

    set-dependencies(PackageIds, id, dependent-ids)


  
