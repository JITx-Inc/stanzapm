defpackage fileinfo :
  import core
  import collections

;============================================================
;============ Printing the Stack Trace ======================
;============================================================

public lostanza defn print-stack-trace () -> ref<False> :
  call-prim flush-vm()
  labels :
    begin :      
      goto loop(core/current-coroutine)
    loop (co:ref<core/RawCoroutine>) :
      call-prim print-stack-trace(co.stack)
      match(co.parent) :
        (p:ref<core/RawCoroutine>) : goto loop(p)
        (p:ref<False>) : ()
  return false
