defpackage stz/dl-driver :
  import core
  import collections
  import stz/dl
  import stz/dl-ir
  import reader

defn main () :
  val denv = DEnv()
  val filename = command-line-arguments()[1]
  val forms = read-file(filename)
  match-syntax[dl-ir](forms) :
    ((load : (?pps:#packageio ...)) @...) :
      for ps in pps do :
        val result = load(denv, to-tuple(ps))
        println(result)

main()